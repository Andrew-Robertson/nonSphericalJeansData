# nonSphericalJeansData
Code to generate the simulation data associated with the paper "Jeans Model for Self-interacting Dark Matter Halo Shapes"

The data required was generated by running:
```
python simData/scripts/generateCylindricalDensityAndPotentialData.py CDMb
python simData/scripts/generateCylindricalDensityAndPotentialData.py SIDM1b
python simData/scripts/generateCylindricalDensityAndPotentialData.py vdSIDMb
```
which generated spherically averaged and azimuthally averaged density data (for stars, dark matter, gas, etc.) as well as gravitational potential data (calculated from the azimuthally averaged density, i.e. assuming cylindrical symmetry). Note that the $z$-axis used for the cylindrical coordinates is set by the direction of the stellar angular momentum vector (so should be approximately normal to the disk in the case of disky galaxies).

At times, it is useful to compare "the same halo" in different dark matter models. For this purpose there are also "matching files" between each pair of the 3 simulations for which the density and potential data were generated. These matching files were generated with:
```
python simData/scripts/generateHaloMatchingFiles.py CDMb SIDM1b
python simData/scripts/generateHaloMatchingFiles.py CDMb vdSIDMb
python simData/scripts/generateHaloMatchingFiles.py SIDM1b vdSIDMb
```

Note that not all haloes can be succesfully matched (the matching is done with a strict "bijective" criteria, and can fail when - for example - two halos are just about to merge in one simulation but have already merged in another). Our matching algorithm should have high purity, at the cost of potentially missing halos that could reasonably be matched. The fact that not all halos have matches means that one can't easily match across more than two simulations, and that the `GalaxyID` associated with a particular pair of `CDMb-SIDM1b` matched halos will not necessarily be the same as the `GalaxyID` of "the same" halo matched between `CDMb` and `vdSIDMb`.

